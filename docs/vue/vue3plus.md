# vue设计与实现读书笔记

该书以vue3为基础，讲述vue框架的底层实现原理

## 框架设计概念

### 权衡的艺术

视图层框架通常分为命令式和声明式；命令式如jquery，通过js操作dom，声明式如vue.js的template模板，直接声明视图。  
vue.js底层实现是命令式的，暴露给开发者的则是声明式。  

声明式的代码性能不优于命令式的代码性能，但可维护性要高于命令式的代码  
声明式的代码更新性能消耗=找出差异的性能消耗+直接修改的性能消耗，而虚拟DOM的是未来最小化找出差异的性能消耗  
因此虚拟DOM的性能理论上不可能比js原生DOM操作效率更高，即理论上原生DOM操作性能更好，但要求写出极致优化的命令式代码  
而虚拟DOM在实践中，如频繁更新大量DOM的操作等场景下，性能可能会优于原生DOM操作  

因此vue框架设计权衡了性能和开发效率(上手难易程度，可维护性)采用了声明式的视图  

::: tip 框架的一种分类方式
运行时：拿到开发者输入的代码不加额外的处理，由渲染函数输出  
编译时：拿到开发者的代码，分析内容，加工过后提供给渲染函数，由渲染函数输出  
运行时的框架更为灵活，编译时的框架性能会更好，vue.js为运行时+编译时的架构，在保证灵活性的基础上尽可能的去优化  
:::

### 框架设计的核心要素

## 响应系统

## 渲染器

## 组件化

## 编译器

## 服务端渲染
